{"ast":null,"code":"var _jsxFileName = \"/home/prokopis/Desktop/WebAppProject/frontend/frontend/src/components/CheckAds.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from \"react-router-dom\";\nimport { Route, PrivateRoute } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NewAd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email_address: \"\",\n      name: \"Nothing\",\n      id: -1,\n      Addata: [],\n      con: false\n    };\n\n    if (props.location.state == null) {\n      alert(\"enter ston constructor\");\n      this.state.con = false;\n    } else {\n      this.state.con = true;\n      this.state.email_address = props.location.state.Email;\n      this.state.id = props.location.state.id;\n    }\n\n    this.getData = this.getData.bind(this);\n  }\n\n  getData() {\n    const formData = new FormData();\n    formData.append(\"Email_Address\", this.state.email_address);\n    axios.post('http://127.0.0.1:8000/users/GetAds/', formData, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      this.setState({\n        Addata: response.data[\"keywords\"]\n      });\n    }).catch(error => {\n      alert(\"Something went wrong\");\n    });\n    this.setState({\n      name: \"Other\"\n    });\n  }\n\n  render() {\n    if (this.state.con === false) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 14\n      }, this);\n    } else {\n      if (this.state.name === \"Nothing\") {\n        this.getData();\n      }\n\n      const items = [];\n      var e = 0;\n\n      for (let i = 0; i < this.state.Addata.length; i++) {\n        if (e % 2 == 0) {\n          items.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"NameAd:\", this.state.Addata[i]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 19\n          }, this));\n          e = e + 1;\n        } else {\n          items.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"TextAd:\", this.state.Addata[i]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this));\n          items.push( /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"----------------------------\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 19\n          }, this));\n          e = e + 1;\n        }\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"My Ads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 8\n        }, this), items]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this);\n    }\n  }\n\n}\n\nexport default NewAd;","map":{"version":3,"sources":["/home/prokopis/Desktop/WebAppProject/frontend/frontend/src/components/CheckAds.js"],"names":["React","axios","Redirect","Link","useLocation","Route","PrivateRoute","withRouter","BrowserRouter","Router","NewAd","Component","constructor","props","state","email_address","name","id","Addata","con","location","alert","Email","getData","bind","formData","FormData","append","post","headers","then","response","setState","data","catch","error","render","items","e","i","length","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAAQC,KAAR,EAAcC,YAAd,QAAiC,kBAAjC;AACA,SAASC,UAAT,QAA0B,kBAA1B;AACA,SAASC,aAAa,IAAIC,MAA1B,QAAwC,kBAAxC;;;AACA,MAAMC,KAAN,SAAoBV,KAAK,CAACW,SAA1B,CAAoC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE,EADJ;AAEXC,MAAAA,IAAI,EAAC,SAFM;AAGXC,MAAAA,EAAE,EAAC,CAAC,CAHO;AAIXC,MAAAA,MAAM,EAAC,EAJI;AAKXC,MAAAA,GAAG,EAAC;AALO,KAAb;;AAOA,QAAGN,KAAK,CAACO,QAAN,CAAeN,KAAf,IAAwB,IAA3B,EAAgC;AAC/BO,MAAAA,KAAK,CAAC,wBAAD,CAAL;AACA,WAAKP,KAAL,CAAWK,GAAX,GAAe,KAAf;AACA,KAHD,MAII;AACH,WAAKL,KAAL,CAAWK,GAAX,GAAe,IAAf;AACA,WAAKL,KAAL,CAAWC,aAAX,GAAyBF,KAAK,CAACO,QAAN,CAAeN,KAAf,CAAqBQ,KAA9C;AACA,WAAKR,KAAL,CAAWG,EAAX,GAAcJ,KAAK,CAACO,QAAN,CAAeN,KAAf,CAAqBG,EAAnC;AACA;;AACD,SAAKM,OAAL,GAAa,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAb;AACA;;AACDD,EAAAA,OAAO,GAAE;AACR,UAAME,QAAQ,GAAC,IAAIC,QAAJ,EAAf;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAgC,KAAKb,KAAL,CAAWC,aAA3C;AACAd,IAAAA,KAAK,CAAC2B,IAAN,CAAW,qCAAX,EAAiDH,QAAjD,EAA0D;AAACI,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB;AAAV,KAA1D,EACIC,IADJ,CACSC,QAAQ,IAAI;AACjB,WAAKC,QAAL,CAAc;AAACd,QAAAA,MAAM,EAACa,QAAQ,CAACE,IAAT,CAAc,UAAd;AAAR,OAAd;AACA,KAHJ,EAGMC,KAHN,CAGYC,KAAK,IAAI;AACdd,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACH,KALJ;AAMG,SAAKW,QAAL,CAAc;AAAChB,MAAAA,IAAI,EAAC;AAAN,KAAd;AACH;;AACDoB,EAAAA,MAAM,GAAE;AACR,QAAG,KAAKtB,KAAL,CAAWK,GAAX,KAAmB,KAAtB,EAA6B;AAC5B,0BAAQ,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAR;AACA,KAFD,MAGI;AACH,UAAG,KAAKL,KAAL,CAAWE,IAAX,KAAkB,SAArB,EAA+B;AAC9B,aAAKO,OAAL;AACA;;AACD,YAAMc,KAAK,GAAC,EAAZ;AACA,UAAIC,CAAC,GAAC,CAAN;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKzB,KAAL,CAAWI,MAAX,CAAkBsB,MAAtC,EAA8CD,CAAC,EAA/C,EAAmD;AAClD,YAAGD,CAAC,GAAC,CAAF,IAAK,CAAR,EAAU;AACTD,UAAAA,KAAK,CAACI,IAAN,eAAW;AAAA,kCAAW,KAAK3B,KAAL,CAAWI,MAAX,CAAkBqB,CAAlB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAX;AACAD,UAAAA,CAAC,GAACA,CAAC,GAAC,CAAJ;AACA,SAHD,MAII;AACHD,UAAAA,KAAK,CAACI,IAAN,eAAW;AAAA,kCAAW,KAAK3B,KAAL,CAAWI,MAAX,CAAkBqB,CAAlB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAX;AACAF,UAAAA,KAAK,CAACI,IAAN,eAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAX;AACAH,UAAAA,CAAC,GAACA,CAAC,GAAC,CAAJ;AACA;AACD;;AACD,0BACC;AAAA,gCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAEAD,KAFA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD;AAMA;AACD;;AA5DgC;;AA+DpC,eAAe3B,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport {useLocation} from \"react-router-dom\";\nimport {Route,PrivateRoute} from 'react-router-dom';\nimport { withRouter} from 'react-router-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nclass NewAd extends React.Component {\n\tconstructor(props) {\n   \t\tsuper(props);\n   \t\tthis.state = {\n\t     \temail_address: \"\",\n\t     \tname:\"Nothing\",\n\t     \tid:-1,\n\t     \tAddata:[],\n\t     \tcon:false,\n\t    };\n\t    if(props.location.state == null){\n\t    \talert(\"enter ston constructor\")\n    \t\tthis.state.con=false\t\n    \t}\n    \telse{\n    \t\tthis.state.con=true\n    \t\tthis.state.email_address=props.location.state.Email\n    \t\tthis.state.id=props.location.state.id\n    \t}\n    \tthis.getData=this.getData.bind(this);\n   \t}\n   \tgetData(){\n   \t\tconst formData=new FormData();\n   \t\tformData.append(\"Email_Address\",this.state.email_address)\n   \t\taxios.post('http://127.0.0.1:8000/users/GetAds/',formData,{headers: {'Content-Type': 'application/json'}})\n        .then(response => {\n        \tthis.setState({Addata:response.data[\"keywords\"]});\n        }).catch(error => {\n            alert(\"Something went wrong\")\n        })\n        this.setState({name:\"Other\"});\n   \t}\n   \trender(){\n  \t\tif(this.state.con === false ){\n  \t\t\treturn (<Redirect to='/'/>);\n  \t\t}\n  \t\telse{\n  \t\t\tif(this.state.name===\"Nothing\"){\n  \t\t\t\tthis.getData()\n  \t\t\t}\n  \t\t\tconst items=[]\n  \t\t\tvar e=0\n\t\t  \tfor (let i = 0; i < this.state.Addata.length; i++) {\n\t\t  \t\tif(e%2==0){\n\t\t  \t\t\titems.push(<p>NameAd:{this.state.Addata[i]}</p>)\n\t\t  \t\t\te=e+1\t\n\t\t  \t\t}\n\t\t  \t\telse{\n\t\t  \t\t\titems.push(<p>TextAd:{this.state.Addata[i]}</p>)\n\t\t  \t\t\titems.push(<p>----------------------------</p>)\n\t\t  \t\t\te=e+1\n\t\t  \t\t}\n\t\t  \t}\n\t  \t\treturn(\n\t  \t\t\t<div>\n\t  \t\t\t\t<h2>My Ads</h2>\n\t\t\t\t\t{items}\n\t\t\t\t</div>\n\t  \t\t);\n\t  \t}\n  \t}\n}\n\nexport default NewAd;"]},"metadata":{},"sourceType":"module"}